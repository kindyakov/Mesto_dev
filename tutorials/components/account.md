## Файл `account.js`

## Общая информация

Файл `account.js` предназначен для управления аккаунтом пользователя на веб-сайте. Он содержит класс `Account`, который отвечает за инициализацию и обработку всех действий, связанных с аккаунтом, включая управление вкладками, загрузку данных профиля пользователя и обработку событий на странице аккаунта.

## Импортируемые модули

- **Tabs**: модуль для управления вкладками.
- **Loader**: модуль для управления загрузочным индикатором.
- **apiWithAuth, checkAuth**: модули для работы с API и проверки авторизации.
- **AccessStorage, Storerooms, ChangePassword, Departure, MyData, PaymentMethods, FormNewAgreement**: модули для различных разделов аккаунта.
- **getClientTotalData**: функция для получения данных о клиенте.
- **isOneRented**: утилита для проверки аренды.

## Класс `Account`

Класс `Account` управляет всеми аспектами аккаунта пользователя.

### Свойства

- `account`: HTMLElement, общая обертка личного кабинета.
- `urlParams`: URLSearchParams, поисковые параметры из URL.
- `formNewAgreement`: объект, экземпляр для создания новой формы.
- `accountTabs`: объект, экземпляр вкладок аккаунта.
- `accessStorage`: объект, экземпляр для управления доступом к складу.
- `storerooms`: объект, экземпляр для управления складскими помещениями.
- `changePassword`: объект, экземпляр для изменения пароля.
- `myData`: объект, экземпляр для управления данными пользователя.
- `paymentMethods`: объект, экземпляр для управления методами оплаты.
- `departure`: объект, экземпляр для управления выездом.
- `loader`: объект, экземпляр загрузчика.
- `accountLink`: HTMLElement, ссылка для выхода из аккаунта.
- `isAuth`: boolean, проверка авторизации пользователя.
- `profile`: объект или null, данные профиля пользователя.
- `user`: объект или null, полные данные пользователя.
- `completeLeaseRoomId`: number или null, ID завершения аренды комнаты.

### Методы

#### **`constructor()`**

Конструктор инициализирует основные свойства класса и вызывает метод `init()`.

#### **`init()`**

Инициализирует аккаунт, проверяет авторизацию, получает профиль пользователя и инициализирует вкладки.

#### **`getProfile()`**

Получает профиль пользователя и обновляет вкладки в зависимости от состояния аккаунта.

#### **`initTabs(tabsBtnActive, tabsContentActive)`**

Инициализирует вкладки при загрузке страницы и обрабатывает состояние вкладок в зависимости от данных клиента.

- **Параметры**:

  - `tabsBtnActive`: HTMLElement - Активная кнопка вкладки.
  - `tabsContentActive`: HTMLElement - Активное содержимое вкладки.

- **Описание**:

  - Метод `initTabs` вызывается при загрузке страницы для инициализации вкладок на основе данных клиента.
  - Включает и выключает индикатор загрузки (loader).
  - Получает данные о клиенте с помощью функции `getClientTotalData`.
  - Обрабатывает отображение и скрытие вкладок в зависимости от данных о комнатах и состоянии аренды.
  - Если пользователь не арендует ни одной комнаты или тестовых комнат, определенные вкладки скрываются, а другие переключаются для отображения соответствующего контента.

- **Используемые функции и модули**:

  - `getClientTotalData`: функция для получения данных о клиенте.
  - `isOneRented`: утилита для проверки аренды.

#### **`changeTabs(tabsBtnActive, tabsContentActive)`**

Обрабатывает изменение вкладок и обновляет содержимое вкладок в зависимости от текущих данных клиента.

#### **`events()`**

Обрабатывает события на странице аккаунта, такие как нажатия кнопок и переключение вкладок.
